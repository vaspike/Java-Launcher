# Java Launcher UI界面说明

Java Launcher插件在VSCode的Explorer面板中提供了专用的侧边栏界面，提供直观的可视化管理体验。

## 🎨 界面布局

```
📁 EXPLORER
├── 📂 src/
├── 📂 test/
├── 📄 package.json
└── ☕ Java Launcher                    ← 专用面板
    ├── 📝 Java 入口点               ⟲  ← 可折叠/展开
    │   ├── 🍃 UserService           ▶️ ➕  ← Spring Boot应用
    │   ├── 🍃 OrderService          ▶️ ➕  ← Spring Boot应用
    │   ├── ☕ MainApp                ▶️ ➕  ← Java应用
    │   ├── 🧪 UserServiceTest        ▶️ ➕  ← 测试类
    │   └── 🔬 testCreateUser         ▶️ ➕  ← 测试方法
    └── 📦 聚合启动配置              ⟲  ← 可折叠/展开
        ├── 📦 Microservices (3/4)   ▶️    ← 聚合配置
        │   ├── ✅ UserService               ← 启用的启动项
        │   ├── ✅ OrderService (2000ms)     ← 带延迟的启动项
        │   ├── ❌ PaymentService            ← 禁用的启动项
        │   └── ✅ ApiGateway (5000ms)       ← 带延迟的启动项
        └── 📦 Development (2/2)      ▶️    ← 聚合配置
            ├── ✅ Database
            └── ✅ MainApp
```

## 🎯 功能特性

### 1. **Java 入口点管理**

#### 显示内容
- **🍃 Spring Boot应用**：自动检测`@SpringBootApplication`注解的类
- **☕ Java应用**：检测包含`main`方法的普通Java类
- **🧪 测试类**：JUnit/TestNG测试类
- **🔬 测试方法**：具体的测试方法

#### 交互操作
- **单击运行** ▶️：直接启动对应的Java入口点
- **添加到聚合** ➕：将入口点添加到聚合启动配置中
- **工具提示**：悬停显示详细信息

### 2. **聚合启动配置管理**

#### 显示内容
- **配置名称**：用户自定义的聚合配置名称
- **启动项统计**：显示格式为`(已启用/总数)`，如`(3/4)`
- **启动项状态**：
  - ✅ 启用的启动项
  - ❌ 禁用的启动项
  - 延迟时间显示：如`(2000ms)`

#### 交互操作
- **单击运行** ▶️：执行整个聚合启动配置
- **展开/折叠**：查看聚合配置包含的启动项
- **工具提示**：显示配置描述和详细信息

### 3. **顶部工具栏**

#### 刷新按钮 🔄
- **功能**：重新扫描项目，更新Java入口点和聚合配置
- **触发时机**：
  - 手动点击刷新
  - Java文件变化时自动刷新
  - 工作区变化时自动刷新
  - 聚合配置文件变化时自动刷新

## 🚀 使用流程示例

### 场景一：运行单个Java应用

```
1. 打开Java Launcher面板
2. 展开"Java 入口点"
3. 找到目标应用（如：🍃 UserService）
4. 点击 ▶️ 按钮
5. 应用开始启动
```

### 场景二：创建聚合启动配置

```
1. 在Java入口点中找到需要的应用
2. 点击应用旁的 ➕ 按钮
3. 选择"创建新配置"或选择现有配置
4. 重复步骤1-3添加更多应用
5. 在聚合启动配置中找到新创建的配置
6. 点击 ▶️ 按钮执行聚合启动
```

### 场景三：管理聚合配置

```
1. 展开"聚合启动配置"
2. 找到目标配置（如：📦 Microservices）
3. 展开查看包含的启动项
4. 通过命令面板调用管理功能：
   - 设置延迟时间
   - 启用/禁用启动项
   - 编辑配置描述
```

## ⚡ 性能优化

### 智能刷新机制
- **延迟刷新**：避免频繁的文件变化导致过度刷新
- **增量更新**：只更新发生变化的部分
- **缓存机制**：缓存扫描结果，提升界面响应速度

### 异步加载
- **非阻塞扫描**：Java入口点扫描在后台异步进行
- **渐进式显示**：先显示已有数据，再逐步加载新数据
- **错误恢复**：扫描失败时显示友好的错误信息

## 🎨 视觉设计

### 图标说明
| 图标 | 含义 | 使用场景 |
|------|------|----------|
| 🍃 | Spring Boot应用 | Spring Boot启动类 |
| ☕ | Java应用 | 普通Java主类 |
| 🧪 | 测试类 | JUnit/TestNG测试类 |
| 🔬 | 测试方法 | 具体的测试方法 |
| 📦 | 聚合配置 | 聚合启动配置 |
| ✅ | 已启用 | 启用的启动项 |
| ❌ | 已禁用 | 禁用的启动项 |
| ▶️ | 运行 | 执行操作 |
| ➕ | 添加 | 添加到聚合配置 |
| 🔄 | 刷新 | 重新加载数据 |

### 状态指示
- **延迟时间**：在启动项名称后显示如`(2000ms)`
- **启动项统计**：在聚合配置名称后显示如`(3/4)`
- **工具提示**：鼠标悬停时显示详细信息

## 🔧 自定义配置

### 界面行为设置
用户可以通过VSCode设置自定义以下行为：
- 自动刷新频率
- 默认展开状态
- 工具提示显示时间
- 图标显示偏好

### 快捷键支持
- `Enter`：运行选中的入口点或聚合配置
- `F5`：刷新整个Java Launcher面板
- `Delete`：删除选中的聚合配置（需确认）

## 🚨 错误处理

### 常见错误场景
1. **Java入口点扫描失败**
   - 显示：`加载失败，请重试`
   - 解决：点击刷新按钮重新扫描

2. **聚合配置加载失败**
   - 显示：`加载失败，请重试`
   - 解决：检查`.vscode/aggregated-launch.json`文件格式

3. **启动配置不存在**
   - 显示：错误提示对话框
   - 解决：重新生成启动配置

### 用户反馈
- **成功消息**：绿色通知，显示操作成功
- **警告消息**：橙色通知，显示需要注意的信息
- **错误消息**：红色通知，显示操作失败原因

---

这个UI界面大大简化了Java开发者的工作流程，让启动和管理Java应用变得更加直观和高效！ 🚀 